
********************* integrate the nagios to ELK using filebeat ********************



    Identify Nagios Log Files
        /usr/local/nagios/var/nagios.log

    install file beat using deb file 
        - curl -L -O https://artifacts.elastic.co/downloads/beats/filebeat/filebeat-7.17.9-amd64.deb
          sudo dpkg -i filebeat-7.17.9-amd64.deb

      - sudo nano /etc/filebeat/filebeat.yml

      - add file beat input feild:-
      
            -filebeat.inputs:
            - type: log
              enabled: true
              paths:
                - /usr/local/nagios/var/nagios.log
                - /usr/local/nagios/var/archive/*.log
              fields:
                log_type: nagios

      -  Outputs --> add in output feild
      
            output.elasticsearch:
            hosts: ["192.168.80.128:9200"]    -> ELK vm ip 

             username: "elastic"
             password: "elastic"

        - sudo systemctl enable filebeat
        - sudo systemctl status filebeat
        -  sudo filebeat test config   -> u will get config ok 


        - curl -X GET "192.168.80.128:9200/_cat/indices?v"   --> check the indices 
                                      filebeat-7.17   -> u will see the like this
                      type elk ip --> Lists all indices in your Elasticsearch cluster

        
         - Go to Kibana (open in browser) :-
              - “Stack Management” → “Data Views”
                  - Click "Create data view"
                        - Name: filebeat
                        - Index pattern: filebeat-*

        -  Now View the Logs:-
             -  Go to “Discover”
              - Select the data view: filebeat
                    - click  fields.log_type: "nagios"

                          - You'll see /usr/local/nagios/var/nagios.log

        - successfully integrate the nagios to ELK using filebeat 


        


